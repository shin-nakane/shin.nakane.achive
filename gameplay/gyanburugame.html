---
layout: default
title: ã‚®ãƒ£ãƒ³ãƒ–ãƒ«ã‚²ãƒ¼ãƒ ãƒ—ãƒ¬ã‚¤ | ä¸­æ ¹é€²ä¹‹ä»‹
permalink: /gameplay/
---


<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <title>ã‚®ãƒ£ãƒ³ãƒ–ãƒ«é“å ´</title>
  <style>
    body {
      font-family: "Yu Gothic", sans-serif;
      background: #111;
      color: #0f0;
      padding: 20px;
    }
    #log {
      white-space: pre-line;
      margin-bottom: 20px;
    }
    input, button {
      font-size: 1rem;
      margin-top: 10px;
      padding: 8px;
      border-radius: 5px;
      border: none;
    }
    button {
      background-color: #0f0;
      color: #111;
      cursor: pointer;
    }
    button:hover {
      background-color: #6f6;
    }
  </style>
</head>
<body>
  <h1>ğŸ² ã‚®ãƒ£ãƒ³ãƒ–ãƒ«é“å ´ ğŸ²</h1>
  <div id="log">Pressã€Œã‚¹ã‚¿ãƒ¼ãƒˆã€ï¼</div>
  <input id="input" type="text" placeholder="ã“ã“ã«å…¥åŠ›â€¦" />
  <button id="btn">ã‚¹ã‚¿ãƒ¼ãƒˆ</button>

  <script>
    let state = 0;
    let money = 0;
    let round = 1;
    let log = document.getElementById("log");
    let input = document.getElementById("input");
    let btn = document.getElementById("btn");

    function print(text) {
      log.textContent += "\n" + text;
      log.scrollTop = log.scrollHeight;
    }

    function next(message, nextState) {
      print(message);
      state = nextState;
      input.value = "";
    }

    function randomInt(max) {
      return Math.floor(Math.random() * max) + 1;
    }

    btn.addEventListener("click", () => {
      const val = input.value.trim();
      switch (state) {
        case 0:
          next("ã‚ãªãŸã®æ‰€æŒé‡‘ã‚’ãƒ©ãƒ³ãƒ€ãƒ ã«æ±ºå®šã—ã¾ã™ã€‚å¥½ããªæ•´æ•°ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„:", 1);
          break;

        case 1:
          const seed = parseInt(val);
          if (isNaN(seed)) {
            print("æ•´æ•°ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„ã€‚");
            return;
          }
          Math.seed = seed;
          money = randomInt(100000);
          next(`ã‚ãªãŸã®æ‰€æŒé‡‘ã¯ ${money} å††ã§ã™ï¼`, 2);
          break;

        case 2:
          if (money <= 0) {
            print("Game Over! æ‰€æŒé‡‘ãŒãªããªã‚Šã¾ã—ãŸã€‚");
            state = -1;
            return;
          }
          if (money >= 100000) {
            print("ğŸ‰ Game Clear! 10ä¸‡å††ã«åˆ°é”ï¼ ğŸ‰");
            state = -1;
            return;
          }
          next(`\nç¬¬${round}ãƒ©ã‚¦ãƒ³ãƒ‰\nã‚®ãƒ£ãƒ³ãƒ–ãƒ«å ´ã‚’ (a,b,c) ã‹ã‚‰é¸ã‚“ã§ãã ã•ã„ã€‚\nå€ç‡ã¯é †ã« 2, 3, 5å€ã§ã™:`, 3);
          break;

        case 3:
          if (!["a", "b", "c"].includes(val)) {
            print("ç„¡åŠ¹ãªé¸æŠã§ã™ã€‚a,b,cã‹ã‚‰é¸ã‚“ã§ãã ã•ã„ã€‚");
            return;
          }
          window.level = val;
          next(`è³­ã‘é‡‘ã‚’æ±ºã‚ã¦ãã ã•ã„ï¼ˆç¾åœ¨ã®æ‰€æŒé‡‘: ${money} å††ï¼‰:`, 4);
          break;

        case 4:
          const bet = parseInt(val);
          if (isNaN(bet) || bet <= 0 || bet > money) {
            print("ç„¡åŠ¹ãªé‡‘é¡ã§ã™ã€‚");
            return;
          }
          money -= bet;
          window.bet = bet;
          let range, multi;
          if (level === "a") { range = 2; multi = 2; }
          else if (level === "b") { range = 3; multi = 3; }
          else { range = 5; multi = 5; }
          window.correct = randomInt(range);
          next(`(1ã€œ${range}) ã®ä¸­ã‹ã‚‰æ•°å­—ã‚’é¸ã‚“ã§ãã ã•ã„:`, 5);
          window.multi = multi;
          break;

        case 5:
          const num = parseInt(val);
          if (isNaN(num) || num < 1 || num > (level === "a" ? 2 : level === "b" ? 3 : 5)) {
            print("ç¯„å›²å¤–ã®æ•°å­—ã§ã™ã€‚");
            return;
          }
          if (num === correct) {
            const win = bet * multi;
            money += win;
            print(`å½“ãŸã‚Šï¼${multi}å€ã§ ${win} å††ç²å¾—ï¼`);
          } else {
            print(`ã¯ãšã‚Œâ€¦å½“ãŸã‚Šã¯ ${correct} ã§ã—ãŸã€‚`);
          }
          print(`ç¾åœ¨ã®æ‰€æŒé‡‘: ${money} å††\n`);
          round++;
          state = 2;
          break;

        default:
          print("ã‚²ãƒ¼ãƒ ã‚’å†èª­ã¿è¾¼ã¿ã—ã¦ãã ã•ã„ã€‚");
          break;
      }
    });
  </script>
</body>
</html>
